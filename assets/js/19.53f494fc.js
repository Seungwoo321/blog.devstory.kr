(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{526:function(s,t,a){s.exports=a.p+"assets/img/01_sql.6d347f8e.png"},527:function(s,t,a){s.exports=a.p+"assets/img/02_result.c8fed134.png"},602:function(s,t,a){"use strict";a.r(t);var n=a(45),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"amazon-athena-sql로-캔들-데이터-생성-하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#amazon-athena-sql로-캔들-데이터-생성-하기"}},[s._v("#")]),s._v(" Amazon Athena SQL로 캔들 데이터 생성 하기")]),s._v(" "),n("p",[s._v("트레이딩 봇 개발 1탄")]),s._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#배경"}},[s._v("배경")])]),n("li",[n("a",{attrs:{href:"#수집-및-데이터-가공"}},[s._v("수집 및 데이터 가공")]),n("ul",[n("li",[n("a",{attrs:{href:"#필요한-데이터"}},[s._v("필요한 데이터")])]),n("li",[n("a",{attrs:{href:"#가공-프로세스"}},[s._v("가공 프로세스")])])])]),n("li",[n("a",{attrs:{href:"#athena-sql을-사용해-시장-데이터를-캔들-데이터로-가공하기"}},[s._v("Athena SQL을 사용해 시장 데이터를 캔들 데이터로 가공하기")])]),n("li",[n("a",{attrs:{href:"#실행-결과"}},[s._v("실행 결과")])]),n("li",[n("a",{attrs:{href:"#정리"}},[s._v("정리")])])])]),n("p"),s._v(" "),n("blockquote",[n("p",[s._v("이 글은 2018년 4월경 진행하면서 기록한 내용을 바탕으로 재작성되었습니다.")])]),s._v(" "),n("h2",{attrs:{id:"배경"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#배경"}},[s._v("#")]),s._v(" 배경")]),s._v(" "),n("ul",[n("li",[s._v("암호화폐 시장을 경험하면서 알고리즘 매매에 흥미가 생겼다.")]),s._v(" "),n("li",[s._v("알고리즘 매매를 위해서는 가장 기본이 되는 캔들 데이터가 필요했다.")]),s._v(" "),n("li",[s._v("어떻게 실시간 시장 데이터를 가공해서 캔들 데이터를 만들어야 하는지 흥미가 생겼다.")]),s._v(" "),n("li",[s._v("AWS의 데이터 분석과 관련된 서비스 Glue와 Athena 서비스가 생각났다.")])]),s._v(" "),n("h2",{attrs:{id:"수집-및-데이터-가공"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#수집-및-데이터-가공"}},[s._v("#")]),s._v(" 수집 및 데이터 가공")]),s._v(" "),n("h3",{attrs:{id:"필요한-데이터"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#필요한-데이터"}},[s._v("#")]),s._v(" 필요한 데이터")]),s._v(" "),n("p",[s._v("캔들은 "),n("strong",[s._v("종가(close)")]),s._v(", "),n("strong",[s._v("고가(high)")]),s._v(", "),n("strong",[s._v("저가(low)")]),s._v(", "),n("strong",[s._v("시가(open)")]),s._v(" 로 구성되어 있다.")]),s._v(" "),n("h3",{attrs:{id:"가공-프로세스"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#가공-프로세스"}},[s._v("#")]),s._v(" 가공 프로세스")]),s._v(" "),n("p",[s._v("처음 계획은 노드(node.js)로 코빗 거래소의 ticker API를 정기적으로 호출해서 받은 시장 데이터 중 종목, 가격, 시간 데이터만 키네시스(Kinesis) 서비스로 전송하고 그다음 글루(Glue) 서비스로 ETL 작업을 수행해서 데이터를 가공해 아테나(Athena)에 최종 캔들 테이블을 생성하는 것이었다.")]),s._v(" "),n("p",[s._v("하지만, ETL 작업에 대한 이해도가 부족해 글루 서비스를 사용해 캔들 데이터를 생성하는 데서 막혔다. 가장 간단하게 실행해볼 수 있는 방법을 고민하다가 종목, 가격, 시간 데이터를 가공하지 않은 채로 아테나에 테이블을 만든 다음 SQL만을 사용해서 캔들 데이터를 만들어 보기로 했다.")]),s._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[s._v("DETAILS")]),s._v(" "),n("p",[s._v("ticker API: "),n("a",{attrs:{href:"https://api.korbit.co.kr/v1/ticker",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://api.korbit.co.kr/v1/ticker"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"athena-sql을-사용해-시장-데이터를-캔들-데이터로-가공하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#athena-sql을-사용해-시장-데이터를-캔들-데이터로-가공하기"}},[s._v("#")]),s._v(" Athena SQL을 사용해 시장 데이터를 캔들 데이터로 가공하기")]),s._v(" "),n("ul",[n("li",[s._v("5분 캔들 데이터")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("high\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("low\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" floor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("minute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:05'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:10'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:15'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:20'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:25'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:30'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:35'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:40'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:45'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:50'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:55'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" open_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" close_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" high\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" low\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" c1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br")])]),n("ul",[n("li",[s._v("30분 캔들 데이터")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("high\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("low\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" floor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("minute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'second'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:30'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" open_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" close_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" high\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" low\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" c1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br")])]),n("ul",[n("li",[s._v("1시간 캔들 데이터")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("high\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("low\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" floor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("minute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" open_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" close_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" high\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" low\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" c1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("ul",[n("li",[s._v("4시간 캔들 데이터")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("col1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("close")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("high\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("low\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" floor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 00:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 04:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 08:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 12:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 16:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" date_format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date_trunc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hour'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d 18:00'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" open_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" close_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" high\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" low\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" a1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v("\n        from_iso8601_timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" original_timestamp\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col1\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" trading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swlee_ticker\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" col2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eth_krw'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" c1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("original_timestamp\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br")])]),n("h2",{attrs:{id:"실행-결과"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#실행-결과"}},[s._v("#")]),s._v(" 실행 결과")]),s._v(" "),n("p",[n("img",{attrs:{src:a(526),alt:"01_sql.png"}}),s._v(" "),n("img",{attrs:{src:a(527),alt:"02_result.png"}})]),s._v(" "),n("h2",{attrs:{id:"정리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#정리"}},[s._v("#")]),s._v(" 정리")]),s._v(" "),n("ul",[n("li",[s._v("가장 기본이 되는 캔들 생성만으로 복잡하고 비용이 많이 든다.")]),s._v(" "),n("li",[s._v("글루 서비스에서 생성하는 ticker 테이블이 배치성이라서 실시간 캔들 조회가 어렵다.")])]),s._v(" "),n("p",[s._v("원하는 시간 프레임별로 캔들 데이터를 생성하는 SQL 문을 작성하는 것은 성공했지만, 위와 같은 이유들로 비효율적이라고 판단해 작업에 사용된 모든 AWS 리소스(resource)를 삭제하고 다른 방법을 시도하게 되었다.")]),s._v(" "),n("Comment")],1)}),[],!1,null,null,null);t.default=e.exports}}]);